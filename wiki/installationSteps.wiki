#summary Step-by-step overview of the installation

= Prerequisites =
You will need working versions of
  * Linux
  * Syslog-NG >= 3.1
  * MySQL >= 5.1
  * Sphinx >= 0.9.9

You will also need the following Perl modules on each logging node.  You can install these by running the contrib/elsa-logging-node-perl-modules-install.sh script.
  * YAML::Syck
  * Moose
  * IO::Socket
  * Data::Serializer
  * POE::Event::Message
  * Config::JSON
  * Exception::Class
  * POE::Component::PreforkDispatch
  * Date::Manip
  * DBD::mysql
  * Sphinx::Config
  * Sphinx::Search
  * Sys::Info
  * Sys::MemInfo
  * String::CRC32
  * Search::QueryParser
  * Search::QueryParser::SQL
  * Net::Server::Daemonize
  * Log::Log4perl

The web frontend will need Apache2 with mod_perl installed and these Perl modules.  You can install these by running the contrib/elsa-web-frontend-node-perl-modules-install.sh script.
  * Config::JSON
  * Net::LDAP::Express
  * Net::LDAP::FilterBuilder
  * Module::Pluggable
  * URI::Escape
  * Digest::HMAC_SHA1
  * Mail::Internet
  * File::Slurp
  * MIME::Base64
  * EV
  * Time::HiRes
  * YAML::Syck
  * Moose
  * Apache::Request
  * Apache2::Const
  * APR::Request::Param
  * CGI
  * CGI::Session::Driver::file
  * CGI::Application::Plugin::Session
  * CGI::Application::Plugin::Apache2::Request
  * POE::Event::Message
  * POE::Filter::Reference
  * Data::Serializer


= Installation Steps =

After you've installed the above prerequisites, download ELSA and put it in /usr/local/elsa.  You can install it to a different directory, but you will need to adjust your environment from all of the documentation accordingly.

==Logging Node(s)==

  # Download the code using svn {{{svn checkout "http://enterprise-log-search-and-archive.googlecode.com/svn/trunk/" /usr/local }}}
  # Create the MySQL databases syslog and syslog_data {{{mysqladmin create syslog && mysqladmin create syslog_data}}}
  # Populate the syslog database {{{mysql syslog < /usr/local/elsa/node/conf/schema.sql}}}
  # Copy /usr/local/elsa/etc/elsa.conf to /etc/elsa.conf and edit to your environment.
  # Create the Sphinx config file {{{/usr/local/elsa/create_sphinx_config.pl > /usr/local/etc/sphinx.conf}}}
  # Start sphinx and make sure it is running {{{/usr/local/bin/searchd}}}
  # Start the ELSA logging agent {{{perl /usr/local/elsa/node/agent.pl}}}
  # Go inspect the log to make sure it has started up ok (/usr/local/elsa/log/node.log)
  # Start syslog-ng {{{/usr/local/syslog-ng/sbin/syslog-ng}}}
  # Go to the log tmp dir and make sure it is creating the tmp buffer logs in /usr/local/elsa/node/tmp

==Web Server==

  # Download the code using svn {{{svn checkout "http://enterprise-log-search-and-archive.googlecode.com/svn/trunk/" /usr/local }}}
  # Create a new virtual host or site in your Apache2 config.  A template is provided in /usr/local/elsa/etc/apache_site.conf.
  # Copy /usr/local/elsa/etc/elsa.conf to /etc/elsa.conf and edit to fit your environment.
  # Create the MySQL database syslog_meta_db {{{mysqladmin create syslog_meta_db}}}
  # Populate the syslog_meta_db database {{{mysql syslog_meta_db < /usr/local/elsa/web/conf/meta_db_schema.mysql}}}
  # Start Janus {{{perl /usr/local/elsa/web/janus.pl}}} and be sure that it runs with no errors.
  # Visit the URL that your virtual site config points to and verify that you get a query page.